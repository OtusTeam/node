1. –ß—Ç–æ —Ç–∞–∫–æ–µ –æ—Ç–ª–∞–¥–∫–∞ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

–û—Ç–ª–∞–¥–∫–∞ (debugging) ‚Äî –ø–æ–∏—Å–∫ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∏–∫–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏, –¥–∞–Ω–Ω—ã—Ö, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö.

–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (profiling) ‚Äî –∏–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞: CPU, –ø–∞–º—è—Ç—å, –∑–∞–¥–µ—Ä–∂–∫–∏, I/O, event loop.

–û–±–µ —Ç–µ—Ö–Ω–∏–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å, –≥–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äú—Ç–æ—Ä–º–æ–∑–∏—Ç‚Äù –∏–ª–∏ –ø–∞–¥–∞–µ—Ç.

ü™≤ 2. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏ –≤ Node.js
üîπ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–µ–±–∞–≥–≥–µ—Ä
node inspect app.js


–∏–ª–∏

node --inspect app.js


–ü–æ–∑–≤–æ–ª—è–µ—Ç:

—Å—Ç–∞–≤–∏—Ç—å breakpoints,

—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤, –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏,

–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chrome DevTools (chrome://inspect).

‚ö° –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:

node --inspect-brk app.js


(–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ä–∞–∑—É –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ).

üîπ VS Code Debugger

–ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–±–∞–∂–∏—Ç—å –ø—Ä—è–º–æ –∏–∑ IDE.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç watch expressions, conditional breakpoints, logpoints.

–ú–æ–∂–Ω–æ –¥–µ–±–∞–∂–∏—Ç—å —Ç–µ—Å—Ç—ã, —Å–∫—Ä–∏–ø—Ç—ã, NestJS, Next.js –∏ —Ç.–¥.

üîπ console.log –∏ util.inspect

–°—Ç–∞—Ä—ã–π, –Ω–æ –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–±.

–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä:

import util from 'node:util';
console.log(util.inspect(obj, { depth: 3, colors: true }));

üß† 3. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
üîπ Event Loop Lag

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –≥–¥–µ ‚Äú—Ç–æ—Ä–º–æ–∑–∏—Ç‚Äù event loop:

import { monitorEventLoopDelay } from 'node:perf_hooks';
const h = monitorEventLoopDelay();
h.enable();
setInterval(() => {
  console.log(h.mean / 1e6, 'ms');
}, 1000);

üîπ CPU –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
node --inspect app.js


–ó–∞—Ç–µ–º –æ—Ç–∫—Ä—ã—Ç—å Chrome DevTools ‚Üí –≤–∫–ª–∞–¥–∫–∞ Profiler ‚Üí Record CPU profile
‚Üí –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –≥–¥–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ JSON –∏–ª–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ).

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

node --prof app.js
node --prof-process isolate-*.log


–≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç v8-–ø—Ä–æ—Ñ–∏–ª—å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∂–µ—Ç ‚Äú–≥–æ—Ä—è—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏‚Äù.

üîπ –ü–∞–º—è—Ç—å (Heap snapshot)
node --inspect


–í DevTools ‚Üí Memory ‚Üí "Take snapshot".
–ü–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏.

–ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

import v8 from 'node:v8';
import fs from 'node:fs';
fs.writeFileSync('heap.heapsnapshot', v8.getHeapSnapshot());

üîπ perf_hooks –∏ async_hooks

–ü–æ–∑–≤–æ–ª—è—é—Ç –∑–∞–º–µ—Ä—è—Ç—å latency, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–æ–≤, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

–ü—Ä–∏–º–µ—Ä:

import { performance, PerformanceObserver } from 'node:perf_hooks';

performance.mark('A');
doSomething();
performance.mark('B');
performance.measure('doSomething', 'A', 'B');

‚öôÔ∏è 4. –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
clinic.js (Clinic Doctor, Flame, Bubbleprof)	–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä –¥–ª—è Node.js
0x	–°–æ–∑–¥–∞—ë—Ç flamegraph –¥–ª—è CPU
Autocannon	–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP
**N	Solid / Dynatrace / Datadog**

–ü—Ä–∏–º–µ—Ä:

npx clinic flame -- node server.js

üîç 5. –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ (pino, winston).

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ APM (Elastic APM, Datadog, NewRelic).

–°–±–æ—Ä trace-–¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é OpenTelemetry.

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ event loop delay, heap usage, CPU load.

–õ–∏–º–∏—Ç—ã –≤ Docker (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ CPU –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏).

üìä 6. –¢–∏–ø–∏—á–Ω—ã–µ bottlenecks

–ë–ª–æ–∫–∏—Ä—É—é—â–∏–π –∫–æ–¥ –≤ event loop (sync –æ–ø–µ—Ä–∞—Ü–∏–∏, JSON.parse –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤).

–ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î.

–ù–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ connection pool.

–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ (listeners, –∫—ç—à, –±–æ–ª—å—à–∏–µ –º–∞—Å—Å–∏–≤—ã).

–ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, res.json() –≤ Express).

üí° 7. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å async –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.

–ò–∑–º–µ—Ä—è—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏ (response time, TTFB, RTT).

–í–∫–ª—é—á–∞—Ç—å NODE_ENV=production (–∏–Ω–∞—á–µ V8 –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∫–æ–¥).

–ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ try/catch –∏ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–æ–≤.